{"code":"(this.webpackJsonpqueer=this.webpackJsonpqueer||[]).push([[0],{25:function(e,t){function n(e){var t=\"string\"===typeof e?function(e){if(e.startsWith(\"#\")&&(e=e.substring(1)),3===e.length)e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2);else if(6!==e.length)throw new Error(\"Invalid hex color: \"+e);for(var t=[],n=0;n<=2;n++)t[n]=parseInt(e.substr(2*n,2),16);return t}(e):e;return.2126*t[0]+.7152*t[1]+.0722*t[2]}e.exports={getContrastingColorFromHex:function(e){return n(e)>=165?\"#000\":\"#fff\"},string2color:function(e){for(var t=0,n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);for(var r=\"#\",a=0;a<3;a++){r+=(\"00\"+(t>>8*a&255).toString(16)).substr(-2)}return r}}},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},37:function(e,t,n){\"use strict\";n.r(t);var r=n(0),a=n.n(r),c=n(26),o=n.n(c),s=(n(32),n(18)),i=n(3),l=n(6),u=(n(33),n(34),n(35),n(2)),h=n(17),j=n(27),b=n(25),f=n(4),d=[\"tag\",\"style\"];function g(e){var t=e.tag,n=e.style,r=Object(j.a)(e,d),a=Object(b.string2color)(t),c=Object(b.getContrastingColorFromHex)(a);return Object(f.jsx)(\"button\",Object(h.a)(Object(h.a)({},r),{},{style:Object(h.a)(Object(h.a)({},n),{},{backgroundColor:a,color:c}),children:t}))}function p(e){var t=new URL(window.location),n=new URLSearchParams([].concat(Object(l.a)(Array.from(t.searchParams.entries()).filter((function(t){var n=Object(i.a)(t,1)[0];return!e.has(n)}))),Object(l.a)(Object(l.a)(e.entries()).filter((function(e){var t=Object(i.a)(e,2)[1];return String(t).length>0})))).sort((function(e,t){var n=Object(i.a)(e,1)[0],r=Object(i.a)(t,1)[0];return n.localeCompare(r)}))).toString();t=new URL(\"\".concat(t.origin).concat(t.pathname).concat(n.length>0?\"?\"+n:\"\")),window.history.pushState({},\"\",t)}function O(){var e=a.a.useState(null),t=Object(i.a)(e,2),n=t[0],r=t[1],c=a.a.useState([]),o=Object(i.a)(c,2),s=o[0],h=o[1],j=a.a.useState(null),b=Object(i.a)(j,2),d=b[0],O=b[1],w=a.a.useState(null),m=Object(i.a)(w,2),x=m[0],v=m[1],S=a.a.useState(null),y=Object(i.a)(S,2),C=y[0],k=y[1],P=a.a.useState(new Set),L=Object(i.a)(P,2),A=L[0],R=L[1],U=a.a.useCallback((function(){var e=new URL(window.location),t=e.searchParams.get(\"lat\")||\"\",n=e.searchParams.get(\"lon\")||\"\",r=(e.searchParams.get(\"tags\")||\"\").split(\",\").filter(Boolean),a={};\"string\"===typeof t&&t.length>0&&\"string\"===typeof n&&n.length>0&&(a.lat=t,a.lon=n),console.log(\"tags\",r),Array.isArray(r)&&r.length>0&&(a.tags=r.join(\",\"));var c=new URLSearchParams(a).toString(),o=\"\".concat(window.urls.api,\"resources.json\").concat(c.length>0?\"?\"+c:\"\");console.log(o),fetch(o).then((function(e){return e.json()})).then((function(e){h(e.resources),console.log(e.resources)}))}),[]),q=a.a.useCallback((function(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){r(\"\");var t=e.coords.latitude,n=e.coords.longitude;v(t),k(n),p(new URLSearchParams([[\"lat\",t],[\"lon\",n]])),U()}),(function(e){r(e.message)})):r(\"Geolocation is not supported by this browser.\")}),[U]),E=a.a.useCallback((function(){v(null),k(null),p(new URLSearchParams([[\"lat\",\"\"],[\"lon\",\"\"]])),U()}),[U]),B=a.a.useCallback((function(e){A.has(e)?A.delete(e):A.add(e),R(new Set(A)),p(new URLSearchParams([[\"tags\",Object(l.a)(A).filter(Boolean).join(\",\")]])),U()}),[U,A]);return a.a.useEffect((function(){var e=new URL(window.location),t=e.searchParams.get(\"lat\")||\"\";v(t);var n=e.searchParams.get(\"lon\")||\"\";k(n);var r=(e.searchParams.get(\"tags\")||\"\").split(\",\");R(new Set(r)),fetch(window.urls.api+\"tags.json\").then((function(e){return e.json()})).then((function(e){O(e.tags)})),U()}),[U]),Object(f.jsxs)(\"div\",{className:\"app_wrapper\",children:[Object(f.jsx)(\"header\",{children:Object(f.jsx)(\"h1\",{children:\"Queer Resources\"})}),Object(f.jsxs)(\"main\",{children:[Object(f.jsx)(\"a\",{href:\"https://github.com/thomasrosen/queer\",target:\"_blank\",rel:\"noreferrer\",children:\"Sourcecode\"}),Object(f.jsx)(\"br\",{}),Object(f.jsx)(\"br\",{}),n&&Object(f.jsxs)(\"p\",{children:[\"Error: \",n]}),Object(f.jsx)(\"button\",{onClick:q,children:\"Filter for resources near you\"}),Object(f.jsx)(\"button\",{onClick:E,children:\"Clear location filter\"}),x&&C?Object(f.jsxs)(\"p\",{children:[\"Location: \",x,\" / \",C]}):null,Object(f.jsx)(\"div\",{style:{display:\"flex\",flexWrap:\"wrap\",gap:\"0.5rem\",margin:\"1rem 0\"},children:d&&d.map((function(e){return Object(f.jsx)(g,{tag:e,\"data-selected\":A.has(e)?\"true\":\"false\",onClick:function(){return B(e)}},e)}))},A),s&&s.map((function(e){return Object(f.jsxs)(\"div\",{children:[Object(f.jsx)(\"h2\",{children:e.title}),Object(f.jsx)(\"p\",{children:e.description}),Object(f.jsx)(\"a\",{href:e.link,target:\"_blank\",rel:\"noreferrer\",children:e.link}),Object(f.jsx)(\"div\",{style:{display:\"flex\",flexWrap:\"wrap\",gap:\"0.5rem\",margin:\"1rem 0\"},children:e.tags.map((function(e){return Object(f.jsx)(g,{tag:e,\"data-selected\":A.has(e)?\"true\":\"false\",onClick:function(){return B(e)}},e)}))})]},JSON.stringify(e))})),Object(f.jsx)(u.a,{})]})]})}function w(){return Object(f.jsx)(\"div\",{})}var m=Object(s.a)([{path:\"/\",element:Object(f.jsx)(O,{}),children:[{path:\"/\",element:Object(f.jsx)(w,{})},{path:\"*\",element:Object(f.jsx)(w,{})}]}]);window.env=\"dev\",window.urls={frontend:\"https://queer.thomasrosen.me/\",api:\"https://queer.thomasrosen.me/api/\"},\"dev\"===window.env&&(window.urls.frontend=\"http://0.0.0.0:3000/\",window.urls.api=\"http://0.0.0.0:1721/api/\"),o.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(u.c,{router:m,fallbackElement:\"Loading\\u2026\"})}),document.getElementById(\"root\"))}},[[37,1,2]]]);","name":"static/js/main.42c9796b.chunk.js","map":{"version":3,"names":["this","push","module","exports","luma","color","rgb","startsWith","substring","length","charAt","Error","i","parseInt","substr","hexToRGBArray","getContrastingColorFromHex","string2color","str","hash","charCodeAt","_i","toString","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","dist","slicedToArray","toConsumableArray","react_router_dist","objectSpread2","objectWithoutProperties","functions","jsx_runtime","_excluded","Tag","_ref","tag","style","props","Object","textColor","backgroundColor","children","pushReplaceSearchParams","new_searchParams","url","URL","window","location","new_search_params_string","URLSearchParams","concat","Array","from","searchParams","entries","filter","key","has","_ref3","value","String","sort","_ref5","_ref6","key_a","key_b","localeCompare","origin","pathname","history","pushState","App_App","_React$useState","a","useState","_React$useState2","error","setError","_React$useState3","_React$useState4","resources","setResources","_React$useState5","_React$useState6","tags","setTags","_React$useState7","_React$useState8","latitude","setLatitude","_React$useState9","_React$useState10","longitude","setLongitude","_React$useState11","Set","_React$useState12","selectedTags","setSelectedTags","loadResources","useCallback","current_url","get","split","Boolean","search_params_data","lat","lon","console","log","isArray","join","search_params","urls","api","fetch","then","response","json","data","getLocation","navigator","geolocation","getCurrentPosition","position","new_latitude","coords","new_longitude","message","clearLocation","toggleTag","delete","add","useEffect","selected_tags","className","href","target","rel","onClick","display","flexWrap","gap","margin","map","resource","title","description","link","JSON","stringify","Welcome","router","path","element","env","frontend","render","StrictMode","fallbackElement","document","getElementById"],"sources":["static/js/main.42c9796b.chunk.js"],"mappings":"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"},"input":"(this[\"webpackJsonpqueer\"] = this[\"webpackJsonpqueer\"] || []).push([[0],{\n\n/***/ 25:\n/***/ (function(module, exports) {\n\nfunction hexToRGBArray(color){if(color.startsWith('#')){color=color.substring(1);}if(color.length===3){color=color.charAt(0)+color.charAt(0)+color.charAt(1)+color.charAt(1)+color.charAt(2)+color.charAt(2);}else if(color.length!==6){throw new Error('Invalid hex color: '+color);}var rgb=[];for(var i=0;i<=2;i++){rgb[i]=parseInt(color.substr(i*2,2),16);}return rgb;}function luma(color){// color can be a hex string or an array of RGB values 0-255\nvar rgb=typeof color==='string'?hexToRGBArray(color):color;return 0.2126*rgb[0]+0.7152*rgb[1]+0.0722*rgb[2];// SMPTE C, Rec. 709 weightings\n}function getContrastingColorFromHex(color){// source: https://stackoverflow.com/questions/635022/calculating-contrasting-colours-in-javascript\n// exact answer: https://stackoverflow.com/a/6511606/2387277\n// example: https://jsfiddle.net/thomasrosen/9njo6t7s/20/\nreturn luma(color)>=165?'#000':'#fff';}function string2color(str){var hash=0;for(var i=0;i<str.length;i++){hash=str.charCodeAt(i)+((hash<<5)-hash);}var color='#';for(var _i=0;_i<3;_i++){var value=hash>>_i*8&0xFF;color+=('00'+value.toString(16)).substr(-2);}return color;}module.exports={getContrastingColorFromHex:getContrastingColorFromHex,string2color:string2color};\n\n/***/ }),\n\n/***/ 32:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 33:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 34:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 35:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 37:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(26);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(32);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/dist/index.js\nvar dist = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 2 modules\nvar toConsumableArray = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./src/components/App.css\nvar App = __webpack_require__(33);\n\n// EXTERNAL MODULE: ./src/fonts/ubuntu-v15-latin/index.css\nvar ubuntu_v15_latin = __webpack_require__(34);\n\n// EXTERNAL MODULE: ./src/fonts/ubuntu-mono-v10-latin/index.css\nvar ubuntu_mono_v10_latin = __webpack_require__(35);\n\n// EXTERNAL MODULE: ./node_modules/react-router/dist/index.js\nvar react_router_dist = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(17);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js + 1 modules\nvar objectWithoutProperties = __webpack_require__(27);\n\n// EXTERNAL MODULE: ./src/functions.js\nvar functions = __webpack_require__(25);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(4);\n\n// CONCATENATED MODULE: ./src/components/Tag.js\nvar _excluded=[\"tag\",\"style\"];function Tag(_ref){var tag=_ref.tag,style=_ref.style,props=Object(objectWithoutProperties[\"a\" /* default */])(_ref,_excluded);var color=Object(functions[\"string2color\"])(tag);// TODO make sure to only run this once\nvar textColor=Object(functions[\"getContrastingColorFromHex\"])(color);// TODO make sure to only run this once\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{style:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},style),{},{backgroundColor:color,color:textColor}),children:tag}));}\n// CONCATENATED MODULE: ./src/components/App.js\nfunction pushReplaceSearchParams(new_searchParams){var url=new URL(window.location);var new_search_params_string=new URLSearchParams([].concat(Object(toConsumableArray[\"a\" /* default */])(Array.from(url.searchParams.entries()).filter(function(_ref){var _ref2=Object(slicedToArray[\"a\" /* default */])(_ref,1),key=_ref2[0];return!new_searchParams.has(key);})),Object(toConsumableArray[\"a\" /* default */])(Object(toConsumableArray[\"a\" /* default */])(new_searchParams.entries()).filter(function(_ref3){var _ref4=Object(slicedToArray[\"a\" /* default */])(_ref3,2),value=_ref4[1];return String(value).length>0;}))).sort(function(_ref5,_ref6){var _ref7=Object(slicedToArray[\"a\" /* default */])(_ref5,1),key_a=_ref7[0];var _ref8=Object(slicedToArray[\"a\" /* default */])(_ref6,1),key_b=_ref8[0];return key_a.localeCompare(key_b);})// sort alphabetically\n).toString();url=new URL(\"\".concat(url.origin).concat(url.pathname).concat(new_search_params_string.length>0?'?'+new_search_params_string:''));window.history.pushState({},'',url);}function App_App(){var _React$useState=react_default.a.useState(null),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),error=_React$useState2[0],setError=_React$useState2[1];var _React$useState3=react_default.a.useState([]),_React$useState4=Object(slicedToArray[\"a\" /* default */])(_React$useState3,2),resources=_React$useState4[0],setResources=_React$useState4[1];var _React$useState5=react_default.a.useState(null),_React$useState6=Object(slicedToArray[\"a\" /* default */])(_React$useState5,2),tags=_React$useState6[0],setTags=_React$useState6[1];var _React$useState7=react_default.a.useState(null),_React$useState8=Object(slicedToArray[\"a\" /* default */])(_React$useState7,2),latitude=_React$useState8[0],setLatitude=_React$useState8[1];var _React$useState9=react_default.a.useState(null),_React$useState10=Object(slicedToArray[\"a\" /* default */])(_React$useState9,2),longitude=_React$useState10[0],setLongitude=_React$useState10[1];var _React$useState11=react_default.a.useState(new Set()),_React$useState12=Object(slicedToArray[\"a\" /* default */])(_React$useState11,2),selectedTags=_React$useState12[0],setSelectedTags=_React$useState12[1];var loadResources=react_default.a.useCallback(function(){var current_url=new URL(window.location);var latitude=current_url.searchParams.get('lat')||'';var longitude=current_url.searchParams.get('lon')||'';var tags=(current_url.searchParams.get('tags')||'').split(',').filter(Boolean);var search_params_data={};if(typeof latitude==='string'&&latitude.length>0&&typeof longitude==='string'&&longitude.length>0){search_params_data.lat=latitude;search_params_data.lon=longitude;}console.log('tags',tags);if(Array.isArray(tags)&&tags.length>0){search_params_data.tags=tags.join(',');}var search_params=new URLSearchParams(search_params_data).toString();var url=\"\".concat(window.urls.api,\"resources.json\").concat(search_params.length>0?'?'+search_params:'');console.log(url);fetch(url).then(function(response){return response.json();}).then(function(data){setResources(data.resources);console.log(data.resources);});},[]);var getLocation=react_default.a.useCallback(function(){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(position){setError('');var new_latitude=position.coords.latitude;var new_longitude=position.coords.longitude;setLatitude(new_latitude);setLongitude(new_longitude);pushReplaceSearchParams(new URLSearchParams([['lat',new_latitude],['lon',new_longitude]]));loadResources();},function(error){setError(error.message);});}else{setError('Geolocation is not supported by this browser.');}},[loadResources]);var clearLocation=react_default.a.useCallback(function(){setLatitude(null);setLongitude(null);pushReplaceSearchParams(new URLSearchParams([['lat',''],['lon','']]));loadResources();},[loadResources]);var toggleTag=react_default.a.useCallback(function(tag){if(selectedTags.has(tag)){selectedTags.delete(tag);}else{selectedTags.add(tag);}setSelectedTags(new Set(selectedTags));pushReplaceSearchParams(new URLSearchParams([['tags',Object(toConsumableArray[\"a\" /* default */])(selectedTags).filter(Boolean).join(',')]]));loadResources();},[loadResources,selectedTags]);react_default.a.useEffect(function(){var current_url=new URL(window.location);var latitude=current_url.searchParams.get('lat')||'';setLatitude(latitude);var longitude=current_url.searchParams.get('lon')||'';setLongitude(longitude);var selected_tags=(current_url.searchParams.get('tags')||'').split(',');setSelectedTags(new Set(selected_tags));fetch(window.urls.api+'tags.json').then(function(response){return response.json();}).then(function(data){setTags(data.tags);});loadResources();},[loadResources]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"app_wrapper\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"header\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Queer Resources\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"main\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"https://github.com/thomasrosen/queer\",target:\"_blank\",rel:\"noreferrer\",children:\"Sourcecode\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"Error: \",error]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:getLocation,children:\"Filter for resources near you\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:clearLocation,children:\"Clear location filter\"}),latitude&&longitude?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"Location: \",latitude,\" / \",longitude]}):null,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:'0.5rem',margin:'1rem 0'},children:tags&&tags.map(function(tag){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tag,{tag:tag,\"data-selected\":selectedTags.has(tag)?'true':'false',onClick:function onClick(){return toggleTag(tag);}},tag);})},selectedTags),resources&&resources.map(function(resource){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:resource.title}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:resource.description}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:resource.link,target:\"_blank\",rel:\"noreferrer\",children:resource.link}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:'0.5rem',margin:'1rem 0'},children:resource.tags.map(function(tag){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tag,{tag:tag,\"data-selected\":selectedTags.has(tag)?'true':'false',onClick:function onClick(){return toggleTag(tag);}},tag);})})]},JSON.stringify(resource));}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Outlet */],{})]})]});}\n// CONCATENATED MODULE: ./src/components/pages/welcome.js\nfunction Welcome(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{});}\n// CONCATENATED MODULE: ./src/components/router.js\nvar router=Object(dist[\"a\" /* createHashRouter */])([{path:'/',element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App_App,{}),children:[{path:'/',element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Welcome,{})},{path:'*',element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Welcome,{})}]}]);\n// CONCATENATED MODULE: ./src/index.js\n// import reportWebVitals from './reportWebVitals';\nwindow.env='dev';// dev / prod\nwindow.urls={frontend:'https://queer.thomasrosen.me/',api:'https://queer.thomasrosen.me/api/'};if(window.env==='dev'){window.urls.frontend='http://0.0.0.0:3000/';window.urls.api='http://0.0.0.0:1721/api/';}react_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"c\" /* RouterProvider */],{router:router,fallbackElement:\"Loading\\u2026\"})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n\n/***/ })\n\n},[[37,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/runner/work/queer/queer/frontend/src/functions.js","/home/runner/work/queer/queer/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/runner/work/queer/queer/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/runner/work/queer/queer/frontend/node_modules/postcss-loader/src/index.js??postcss!/home/runner/work/queer/queer/frontend/src/index.css","/home/runner/work/queer/queer/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/runner/work/queer/queer/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/runner/work/queer/queer/frontend/node_modules/postcss-loader/src/index.js??postcss!/home/runner/work/queer/queer/frontend/src/components/App.css","/home/runner/work/queer/queer/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/runner/work/queer/queer/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/runner/work/queer/queer/frontend/node_modules/postcss-loader/src/index.js??postcss!/home/runner/work/queer/queer/frontend/src/fonts/ubuntu-v15-latin/index.css","/home/runner/work/queer/queer/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/runner/work/queer/queer/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/runner/work/queer/queer/frontend/node_modules/postcss-loader/src/index.js??postcss!/home/runner/work/queer/queer/frontend/src/fonts/ubuntu-mono-v10-latin/index.css","/home/runner/work/queer/queer/frontend/src/components/Tag.js","/home/runner/work/queer/queer/frontend/src/components/App.js","/home/runner/work/queer/queer/frontend/src/components/pages/welcome.js","/home/runner/work/queer/queer/frontend/src/components/router.js","/home/runner/work/queer/queer/frontend/src/index.js"],"names":["hexToRGBArray","color","startsWith","substring","length","charAt","Error","rgb","i","parseInt","substr","luma","getContrastingColorFromHex","string2color","str","hash","charCodeAt","value","toString","module","exports","Tag","tag","style","props","textColor","backgroundColor","pushReplaceSearchParams","new_searchParams","url","URL","window","location","new_search_params_string","URLSearchParams","Array","from","searchParams","entries","filter","key","has","String","sort","key_a","key_b","localeCompare","origin","pathname","history","pushState","App","React","useState","error","setError","resources","setResources","tags","setTags","latitude","setLatitude","longitude","setLongitude","Set","selectedTags","setSelectedTags","loadResources","useCallback","current_url","get","split","Boolean","search_params_data","lat","lon","console","log","isArray","join","search_params","urls","api","fetch","then","response","json","data","getLocation","navigator","geolocation","getCurrentPosition","position","new_latitude","coords","new_longitude","message","clearLocation","toggleTag","delete","add","useEffect","selected_tags","display","flexWrap","gap","margin","map","resource","title","description","link","JSON","stringify","Welcome","router","createHashRouter","path","element","children","env","frontend","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["function hexToRGBArray(color) {\n  if (color.startsWith('#')) {\n    color = color.substring(1)\n  }\n\n  if (color.length === 3) {\n    color = color.charAt(0) + color.charAt(0) + color.charAt(1) + color.charAt(1) + color.charAt(2) + color.charAt(2);\n  } else if (color.length !== 6) {\n    throw (new Error('Invalid hex color: ' + color));\n  }\n\n  let rgb = [];\n  for (var i = 0; i <= 2; i++) {\n    rgb[i] = parseInt(color.substr(i * 2, 2), 16);\n  }\n\n  return rgb;\n}\nfunction luma(color) {\n  // color can be a hex string or an array of RGB values 0-255\n  const rgb = (typeof color === 'string') ? hexToRGBArray(color) : color;\n  return (0.2126 * rgb[0]) + (0.7152 * rgb[1]) + (0.0722 * rgb[2]); // SMPTE C, Rec. 709 weightings\n}\nfunction getContrastingColorFromHex(color) {\n  // source: https://stackoverflow.com/questions/635022/calculating-contrasting-colours-in-javascript\n  // exact answer: https://stackoverflow.com/a/6511606/2387277\n  // example: https://jsfiddle.net/thomasrosen/9njo6t7s/20/\n\n  return (luma(color) >= 165) ? '#000' : '#fff';\n}\n\nfunction string2color(str) {\n  let hash = 0;\n  for (let i = 0; i < str.length; i++) {\n    hash = str.charCodeAt(i) + ((hash << 5) - hash);\n  }\n  let color = '#';\n  for (let i = 0; i < 3; i++) {\n    let value = (hash >> (i * 8)) & 0xFF;\n    color += ('00' + value.toString(16)).substr(-2);\n  }\n  return color;\n}\n\nmodule.exports = {\n  getContrastingColorFromHex,\n  string2color,\n};\n","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React from 'react'\n\nimport {\n  getContrastingColorFromHex,\n  string2color,\n} from '../functions.js'\n\nexport default function Tag({ tag, style, ...props }) {\n  const color = string2color(tag) // TODO make sure to only run this once\n  const textColor = getContrastingColorFromHex(color) // TODO make sure to only run this once\n\n  return <button\n    {...props}\n    style={{\n      ...style,\n      backgroundColor: color,\n      color: textColor,\n    }}\n  >\n    {tag}\n  </button>\n}\n","import React from 'react'\nimport './App.css'\n\nimport '../fonts/ubuntu-v15-latin/index.css'\nimport '../fonts/ubuntu-mono-v10-latin/index.css'\n\nimport {\n  // NavLink,\n  Outlet,\n} from 'react-router-dom'\n\nimport Tag from './Tag.js'\n\nfunction pushReplaceSearchParams(new_searchParams) {\n  let url = new URL(window.location)\n\n  const new_search_params_string = new URLSearchParams(\n    [\n      ...(\n        Array.from(url.searchParams.entries())\n          .filter(([key]) => !new_searchParams.has(key))\n      ),\n      ...(\n        [...new_searchParams.entries()]\n          .filter(([, value]) => String(value).length > 0)\n      ),\n    ]\n      .sort(([key_a], [key_b]) => key_a.localeCompare(key_b)) // sort alphabetically\n  ).toString()\n\n  url = new URL(`${url.origin}${url.pathname}${new_search_params_string.length > 0 ? '?' + new_search_params_string : ''}`)\n  window.history.pushState({}, '', url)\n}\n\nexport default function App() {\n\n  const [error, setError] = React.useState(null)\n\n  const [resources, setResources] = React.useState([])\n  const [tags, setTags] = React.useState(null)\n\n  const [latitude, setLatitude] = React.useState(null)\n  const [longitude, setLongitude] = React.useState(null)\n  const [selectedTags, setSelectedTags] = React.useState(new Set())\n\n  const loadResources = React.useCallback(() => {\n\n    const current_url = new URL(window.location);\n    const latitude = (current_url.searchParams.get('lat') || '')\n    const longitude = (current_url.searchParams.get('lon') || '')\n    const tags = (current_url.searchParams.get('tags') || '').split(',').filter(Boolean)\n\n    const search_params_data = {}\n\n    if (\n      typeof latitude === 'string' && latitude.length > 0 &&\n      typeof longitude === 'string' && longitude.length > 0\n    ) {\n      search_params_data.lat = latitude\n      search_params_data.lon = longitude\n    }\n\n    console.log('tags', tags)\n    if (Array.isArray(tags) && tags.length > 0) {\n      search_params_data.tags = tags.join(',')\n    }\n\n    const search_params = new URLSearchParams(search_params_data).toString()\n\n    const url = `${window.urls.api}resources.json${search_params.length > 0 ? '?' + search_params : ''}`;\n    console.log(url);\n\n    fetch(url)\n      .then((response) => response.json())\n      .then((data) => {\n        setResources(data.resources)\n        console.log(data.resources)\n      })\n  }, [])\n\n  const getLocation = React.useCallback(() => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition((position) => {\n        setError('')\n\n        const new_latitude = position.coords.latitude\n        const new_longitude = position.coords.longitude\n        setLatitude(new_latitude)\n        setLongitude(new_longitude)\n\n        pushReplaceSearchParams(new URLSearchParams([\n          ['lat', new_latitude],\n          ['lon', new_longitude],\n        ]))\n\n        loadResources()\n      }, (error) => {\n        setError(error.message)\n      })\n    } else {\n      setError('Geolocation is not supported by this browser.')\n    }\n  }, [loadResources])\n\n  const clearLocation = React.useCallback(() => {\n    setLatitude(null)\n    setLongitude(null)\n    pushReplaceSearchParams(new URLSearchParams([\n      ['lat', ''],\n      ['lon', ''],\n    ]))\n    loadResources()\n  }, [loadResources])\n\n  const toggleTag = React.useCallback(tag => {\n\n    if (selectedTags.has(tag)) {\n      selectedTags.delete(tag)\n    } else {\n      selectedTags.add(tag)\n    }\n    setSelectedTags(new Set(selectedTags))\n\n    pushReplaceSearchParams(new URLSearchParams([\n      ['tags', [...selectedTags].filter(Boolean).join(',')],\n    ]))\n\n\n    loadResources()\n  }, [loadResources, selectedTags])\n\n  React.useEffect(() => {\n\n    const current_url = new URL(window.location);\n    const latitude = (current_url.searchParams.get('lat') || '')\n    setLatitude(latitude)\n    const longitude = (current_url.searchParams.get('lon') || '')\n    setLongitude(longitude)\n    const selected_tags = (current_url.searchParams.get('tags') || '').split(',')\n    setSelectedTags(new Set(selected_tags))\n\n    fetch(window.urls.api + 'tags.json')\n    .then((response) => response.json())\n    .then((data) => {\n      setTags(data.tags)\n    })\n\n    loadResources()\n  }, [loadResources])\n\n  return <div className=\"app_wrapper\">\n    <header>\n      <h1>Queer Resources</h1>\n    </header>\n    \n    <main>\n\n      <a href=\"https://github.com/thomasrosen/queer\" target=\"_blank\" rel=\"noreferrer\">Sourcecode</a>\n      <br />\n      <br />\n\n      {error && <p>Error: {error}</p>}\n\n      <button onClick={getLocation}>Filter for resources near you</button>\n      <button onClick={clearLocation}>Clear location filter</button>\n      {\n        latitude && longitude\n          ? <p>Location: {latitude} / {longitude}</p>\n          : null\n      }\n\n      <div style={{\n        display: 'flex',\n        flexWrap: 'wrap',\n        gap: '0.5rem',\n        margin: '1rem 0',\n      }} key={selectedTags}>\n        { tags && tags.map(tag => {\n          return <Tag\n            key={tag}\n            tag={tag}\n            data-selected={selectedTags.has(tag) ? 'true' : 'false'}\n            onClick={() => toggleTag(tag)}\n          />\n        }) }\n      </div>\n\n      {\n        resources &&\n        resources.map(resource => {\n          return <div key={JSON.stringify(resource)}>\n            <h2>{resource.title}</h2>\n            <p>{resource.description}</p>\n            <a href={resource.link} target=\"_blank\" rel=\"noreferrer\">{resource.link}</a>\n            <div style={{\n              display: 'flex',\n              flexWrap: 'wrap',\n              gap: '0.5rem',\n              margin: '1rem 0',\n            }}>{\n              resource.tags.map(tag => {\n                return <Tag\n                  key={tag}\n                  tag={tag}\n                  data-selected={selectedTags.has(tag) ? 'true' : 'false'}\n                  onClick={() => toggleTag(tag)}\n                />\n              })\n            }\n            </div>\n          </div>\n        })\n      }\n\n      <Outlet />\n    </main>\n\n  </div>\n}\n","export default function Welcome() {\n  return <div>\n      \n  </div>\n}\n","import {\n  createHashRouter,\n} from 'react-router-dom'\n\nimport App from './App.js'\nimport Welcome from './pages/welcome.js'\n\nexport const router = createHashRouter([\n  {\n    path: '/',\n    element: <App />,\n    children: [\n      {\n        path: '/',\n        element: <Welcome />,\n      },\n      {\n        path: '*',\n        element: <Welcome />,\n      },\n    ]\n  },\n]);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nimport { router } from './components/router.js';\nimport {\n  RouterProvider,\n} from 'react-router-dom'\n\n// import reportWebVitals from './reportWebVitals';\n\nwindow.env = 'dev' // dev / prod\nwindow.urls = {\n  frontend: 'https://queer.thomasrosen.me/',\n  api: 'https://queer.thomasrosen.me/api/',\n}\nif (window.env === 'dev') {\n  window.urls.frontend = 'http://0.0.0.0:3000/'\n  window.urls.api = 'http://0.0.0.0:1721/api/'\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <RouterProvider\n      router={router}\n      fallbackElement=\"Loadingâ€¦\"\n    />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"]}}